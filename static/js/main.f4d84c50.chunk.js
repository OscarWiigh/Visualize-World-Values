(window.webpackJsonp=window.webpackJsonp||[]).push([[0],{39:function(e,t,a){e.exports=a(92)},44:function(e,t,a){},46:function(e,t,a){},75:function(e,t,a){},77:function(e,t,a){},79:function(e,t,a){},92:function(e,t,a){"use strict";a.r(t);var n=a(0),o=a.n(n),r=a(13),l=a.n(r),i=(a(44),a(14)),c=a(15),s=a(17),u=a(16),p=a(18),d=(a(46),a(8)),h=a(21),m=a(24),y=a(27),v=a.n(y),f=(a(75),{width:"100%",maxWidth:980,marginLeft:"50px",marginTop:"30px",display:"inline-block",background:"white",boxShadow:"0 6px 15px rgba(36,37,38,0.08)",borderRadius:"16px"}),b=function(e){function t(){var e;return Object(i.a)(this,t),(e=Object(s.a)(this,Object(u.a)(t).call(this))).onSelectCountry=function(t,a){var n,o=e.props.countryData;o[t.properties.name]?(n=o[t.properties.name]).Country=t.properties.name:(n={}).Country=t.properties.name,e.props.onCountrySelect(n)},e.state={zoom:1},e.handleZoomIn=e.handleZoomIn.bind(Object(d.a)(Object(d.a)(e))),e.handleZoomOut=e.handleZoomOut.bind(Object(d.a)(Object(d.a)(e))),e}return Object(p.a)(t,e),Object(c.a)(t,[{key:"handleZoomIn",value:function(){3.814697265625!=this.state.zoom?this.setState({zoom:1.25*this.state.zoom}):this.setState({zoom:3.814697265625})}},{key:"handleZoomOut",value:function(){1!=this.state.zoom?this.setState({zoom:this.state.zoom/1.25}):this.setState({zoom:1})}},{key:"componentDidMount",value:function(){setTimeout(function(){v.a.rebuild()},300)}},{key:"countryColor",value:function(e,t){var a=this.props.countryData,n=this.props.countryDetail,o=a[e];return o?t(o[n]):"#bcbcbc"}},{key:"render",value:function(){var e=this,t=Object(m.a)().domain([0,this.props.percentage/2,this.props.percentage]).range(["#ff0000","#ffff00","#00ff00"]);return o.a.createElement("div",{id:"container"},o.a.createElement("div",{id:"buttoncontainer"},o.a.createElement("div",{className:"zoombuttons",onClick:this.handleZoomIn},o.a.createElement("p",{className:"buttontext"},"+")),o.a.createElement("div",{className:"zoombuttons",onClick:this.handleZoomOut},o.a.createElement("p",{className:"buttontext"},"-"))),o.a.createElement("div",{style:f},o.a.createElement(h.ComposableMap,{projectionConfig:{scale:205,rotation:[-11,0,0]},width:980,height:551,style:{width:"100%",height:"auto"}},o.a.createElement(h.ZoomableGroup,{zoom:this.state.zoom,center:[0,20]},o.a.createElement(h.Geographies,{geography:"/world-50m-with-population.json",disableOptimization:!0},function(a,n){return a.map(function(a,r){return o.a.createElement(h.Geography,{key:"".concat(a.properties.iso_a3,"-").concat(r),cacheId:"".concat(a.properties.iso_a3,"-").concat(r),"data-tip":a.properties.name,geography:a,projection:n,onClick:e.onSelectCountry,round:!0,style:{default:{fill:e.countryColor(a.properties.name,t),stroke:"#607D8B",strokeWidth:.75,outline:"none"},hover:{fill:e.countryColor(a.properties.name,t),stroke:"#607D8B",strokeWidth:.75,outline:"none"},pressed:{fill:"blue",stroke:"#607D8B",strokeWidth:.75,outline:"none"}}})})}))),o.a.createElement(v.a,null),o.a.createElement("div",{id:"legend"},o.a.createElement("span",{className:"tooltiptext"},"A legend describing the color mapping of the chart"),o.a.createElement("p",{id:"all"},this.props.percentage+"%"),o.a.createElement("p",{id:"half"},Math.round(this.props.percentage/2)+"%"),o.a.createElement("p",{id:"zero"},"0%"))))}}]),t}(n.Component),g=(a(77),a(4)),C=function(e){function t(e){var a;return Object(i.a)(this,t),(a=Object(s.a)(this,Object(u.a)(t).call(this,e))).drawChart=a.drawChart.bind(Object(d.a)(Object(d.a)(a))),a}return Object(p.a)(t,e),Object(c.a)(t,[{key:"componentDidMount",value:function(){var e=this.props;this.drawChart(e)}},{key:"componentWillReceiveProps",value:function(e){e!==this.props&&this.updateChart(e)}},{key:"scaleRadius",value:function(e,t,a){if(e+a+t>0)return 30*(e-t)/(a-t)+10;return 0}},{key:"updateChart",value:function(e){var t=this,a=980-50-20,n=658-30-30,o=g.k("%Y"),r=g.i().range([0,a]),l=g.h().range([n,0]).domain([.5,1]),i=g.a(r),c=g.b(l),s=g.e().x(function(e){return r(e.date)}).y(function(e){return l(e.close)}),u="/Visualize-World-Values./data/"+e.gapVar+".csv";g.c(u).then(function(a){var n=[{date:"1995",close:0,happ:0},{date:"2004",close:0,happ:0},{date:"2009",close:0,happ:0},{date:"2014",close:0,happ:0}];a.forEach(function(t){t.Country==e.selectedCountry&&(n[0].close=t[Object.keys(t)[0]],n[1].close=t[Object.keys(t)[1]],n[2].close=t[Object.keys(t)[2]],n[3].close=t[Object.keys(t)[3]])});var u="/Visualize-World-Values./data/"+e.area+"Wave3.csv",p="/Visualize-World-Values./data/"+e.area+"Wave4.csv",d="/Visualize-World-Values./data/"+e.area+"Wave5.csv",h="/Visualize-World-Values./data/"+e.area+"Wave6.csv";g.c(u).then(function(a){a.forEach(function(t){t.Country==e.selectedCountry&&(n[0].happ=t[e.detail])}),g.c(p).then(function(t){t.forEach(function(t){t.Country==e.selectedCountry&&(n[1].happ=t[e.detail])})}),g.c(d).then(function(t){t.forEach(function(t){t.Country==e.selectedCountry&&(n[2].happ=t[e.detail])})}),g.c(h).then(function(a){a.forEach(function(t){t.Country==e.selectedCountry&&(n[3].happ=t[e.detail])}),n.forEach(function(e){e.date=o(e.date),e.close=+e.close,e.happ=e.happ/2}),r.domain([new Date("1993-01-01"),new Date("2016-01-01")]),l.domain([g.g(n,function(e){return.99*e.close}),g.f(n,function(e){return e.close})]);var u=g.j("#containerchart"),p=g.j(".tooltip");u.selectAll("circle").data(n).attr("r",function(e){return t.scaleRadius(e.happ,g.g(n,function(e){return e.happ}),g.f(n,function(e){return e.happ}))}).attr("cx",function(e){return r(e.date)}).attr("cy",function(e){return l(e.close)}).on("mouseover",function(t){p.transition().duration(200).style("opacity",.9),p.html(e.selectedCountry+", "+e.area+"<br/>Year: "+t.date.getFullYear()+"<br/>"+e.gapVar.replace(/_/g," ").replace(/\b\w/g,function(e){return e.toUpperCase()})+": "+t.close+"<br/>"+e.detail+": "+2*t.happ+"%").style("left",g.d.pageX-85+"px").style("top",g.d.pageY+10+"px")}).on("mouseout",function(e){p.transition().duration(500).style("opacity",0)}),u.transition().select(".line").duration(750).attr("d",s(n)),u.transition().select(".x.axis").duration(750).call(i),u.transition().select(".y.axis").duration(750).call(c),u.select("#ytext").text(e.gapVar.replace(/_/g," ").replace(/\b\w/g,function(e){return e.toUpperCase()}))})})})}},{key:"drawChart",value:function(e){var t=this,a=30,n=20,o=30,r=50,l=980-r-n,i=658-a-o,c=g.j("#containerchart").append("div").attr("class","tooltip").style("opacity",0),s=g.k("%Y"),u=g.i().range([0,l]),p=g.h().range([i,0]).domain([.5,1]),d=g.a(u),h=g.b(p),m=g.e().x(function(e){return u(e.date)}).y(function(e){return p(e.close)}),y=g.j("#containerchart").append("svg").attr("id","chartid").attr("preserveAspectRatio","xMidYMid").attr("viewBox","0 0 980 658").attr("width",l+r+n).attr("height",i+a+o).append("g").attr("transform","translate("+r+","+a+")"),v="/Visualize-World-Values./data/"+e.gapVar+".csv";g.c(v).then(function(a){var n=[{date:"1995",close:0,happ:0},{date:"2004",close:0,happ:0},{date:"2009",close:0,happ:0},{date:"2014",close:0,happ:0}];a.forEach(function(t){t.Country==e.selectedCountry&&(n[0].close=t[Object.keys(t)[0]],n[1].close=t[Object.keys(t)[1]],n[2].close=t[Object.keys(t)[2]],n[3].close=t[Object.keys(t)[3]])});var o="/Visualize-World-Values./data/"+e.area+"Wave3.csv",r="/Visualize-World-Values./data/"+e.area+"Wave4.csv",v="/Visualize-World-Values./data/"+e.area+"Wave5.csv",f="/Visualize-World-Values./data/"+e.area+"Wave6.csv";g.c(o).then(function(a){a.forEach(function(t){t.Country==e.selectedCountry&&(n[0].happ=t[e.detail])}),g.c(r).then(function(t){t.forEach(function(t){t.Country==e.selectedCountry&&(n[1].happ=t[e.detail])})}),g.c(v).then(function(t){t.forEach(function(t){t.Country==e.selectedCountry&&(n[2].happ=t[e.detail])})}),g.c(f).then(function(a){a.forEach(function(t){t.Country==e.selectedCountry&&(n[3].happ=t[e.detail])}),n.forEach(function(e){e.date=s(e.date),e.close=+e.close,e.happ=e.happ/2}),u.domain([new Date("1993-01-01"),new Date("2016-01-01")]),p.domain([g.g(n,function(e){return.99*e.close}),g.f(n,function(e){return e.close})]),y.append("path").attr("class","line").attr("d",m(n)),y.selectAll("circle").data(n).enter().append("circle").attr("r",function(e){return t.scaleRadius(e.happ,g.g(n,function(e){return e.happ}),g.f(n,function(e){return e.happ}))}).attr("cx",function(e){return u(e.date)}).attr("cy",function(e){return p(e.close)}).on("mouseover",function(t){c.transition().duration(200).style("opacity",.9),c.html(e.selectedCountry+", "+e.area+"<br/>Year: "+t.date.getFullYear()+"<br/>"+e.gapVar.replace(/_/g," ").replace(/\b\w/g,function(e){return e.toUpperCase()})+": "+t.close+"<br/>"+e.detail+": "+2*t.happ+"%").style("left",g.d.pageX-85+"px").style("top",g.d.pageY+10+"px")}).on("mouseout",function(e){c.transition().duration(500).style("opacity",0)}),y.append("g").attr("class","x axis").attr("transform","translate(0,"+i+")").call(d),y.append("text").attr("class","labels").attr("transform","translate("+(l-5)+" ,"+(i-10)+")").style("text-anchor","middle").text("Year"),y.append("g").attr("class","y axis").call(h),y.append("text").attr("class","labels").attr("id","ytext").attr("transform","translate(5 ,5)").text(e.gapVar.replace(/_/g," ").replace(/\b\w/g,function(e){return e.toUpperCase()}))})})})}},{key:"render",value:function(){return o.a.createElement("div",{id:"containerchart"})}}]),t}(o.a.Component),E=(a(79),function(e){function t(){var e;return Object(i.a)(this,t),(e=Object(s.a)(this,Object(u.a)(t).call(this))).objtoelements=e.objtoelements.bind(Object(d.a)(Object(d.a)(e))),e}return Object(p.a)(t,e),Object(c.a)(t,[{key:"objtoelements",value:function(e){for(var t=[],a=Object.keys(e),n=0;n<a.length;n++){var r=a[n];t.push(o.a.createElement("p",{className:"textcountry",key:r},r+": "+e[r]+"%"))}return t.pop(),t}},{key:"render",value:function(){var e=this.props.selectedCountry;return Object.keys(e).length>2?o.a.createElement("div",{id:"countrycontainer"},o.a.createElement("h2",{className:"countryTitle"},e.Country),this.objtoelements(e)):o.a.createElement("div",{id:"countrycontainer"},o.a.createElement("h2",{className:"textcountry"},e.Country),o.a.createElement("p",{className:"textcountry"},"No data during ",this.props.wave.substr(0,4)+" "+this.props.wave.substr(4,5),"!"))}}]),t}(n.Component)),V=a(22),j=[{value:"Happiness",label:"Happiness in Life"},{value:"WorkImportance",label:"Work Importance in Life"},{value:"LeisureImportance",label:"Leisure Importance in Life"},{value:"FamilyImportance",label:"Family Importance in Life"},{value:"ReligionImportance",label:"Religion Importance in Life"},{value:"SubjectiveHealth",label:"Subjective state of health"},{value:"TrustInPeople",label:"Trust in people"},{value:"MostImportant",label:"What is most important (of given options)?"}],O=[{value:"Wave6",label:"Wave 6 (2010-2014)"},{value:"Wave5",label:"Wave 5 (2005-2009)"},{value:"Wave4",label:"Wave 4 (1999-2004)"},{value:"Wave3",label:"Wave 3 (1995-1998)"}],k=[{value:"child_mortality",label:"Child Mortality per 1000 births"},{value:"life_expectancy_years",label:"Life expectancy in years"},{value:"co2_emissions_tonnes_per_person",label:"CO2 emissions tonnes/person"},{value:"income_per_person",label:"Income/person (GDP/capita, PPP$, infl. adj.) "},{value:"long_term_unemployment",label:"Long term unemployment (% of pop.)"},{value:"children_per_woman",label:"Number of children per woman"},{value:"hdi_human_development",label:"Human Development Index"},{value:"population_growth_annual_percent",label:"Annual population growth/year (%)"}],w=function(e){function t(e){var a;return Object(i.a)(this,t),(a=Object(s.a)(this,Object(u.a)(t).call(this,e))).state={countryData:[],wave:"Wave6",variable:"Happiness",detaillist:[{value:"Very happy",label:"Very happy"},{value:"Rather happy",label:"Rather happy"},{value:"Not very happy",label:"Not very happy"},{value:"Not at all happy",label:"Not at all happy"},{value:"Others",label:"Others"}],detail:"Very happy",gapVar:"life_expectancy_years",detailtest:[{value:"Very happy",label:"Very happy"}],columns:[],selectedCountry:{"Very happy":40,"Rather happy":54,"Not very happy":4,"Not at all happy":0,Country:"Sweden"},maxPercentage:100,update:!1},a.handleDataSelection=function(e){a.setState({selectedCountry:e})},a.handleWaveSelection=function(e){a.state.wave!==e.value&&a.setState({wave:e.value,update:!0,selectedCountry:{}}),setTimeout(function(){a.setState({update:!1})},100)},a.handleGapSelection=function(e){a.state.gapVar!==e.value&&a.setState({gapVar:e.value,update:!0}),setTimeout(function(){a.setState({update:!1})},100)},a.handleDetailSelection=function(e){a.state.detail!==e.value&&a.setState({detail:e.value,detailtest:[{value:e.value,label:e.value}],update:!0,selectedCountry:{}}),setTimeout(function(){a.setState({update:!1})},100)},a.handleAreaSelection=function(e){a.state.variable!==e.value&&a.setState({variable:e.value,update:!0,selectedCountry:{}}),"WorkImportance"==e.value&&a.setState({detail:"Very important",detailtest:[{value:"Very important",label:"Very important"}]}),"LeisureImportance"==e.value&&a.setState({detail:"Very important",detailtest:[{value:"Very important",label:"Very important"}]}),"FamilyImportance"==e.value&&a.setState({detail:"Rather important",detailtest:[{value:"Rather important",label:"Rather important"}]}),"ReligionImportance"==e.value&&a.setState({detail:"Very important",detailtest:[{value:"Very important",label:"Very important"}]}),"SubjectiveHealth"==e.value&&a.setState({detail:"Very good",detailtest:[{value:"Very good",label:"Very good"}]}),"Happiness"==e.value&&a.setState({detail:"Very happy",detailtest:[{value:"Very happy",label:"Very happy"}]}),"TrustInPeople"==e.value&&a.setState({detail:"Most people can be trusted",detailtest:[{value:"Most people can be trusted",label:"Most people can be trusted"}]}),"MostImportant"==e.value&&a.setState({detail:"A stable economy",detailtest:[{value:"A stable economy",label:"A stable economy"}]}),setTimeout(function(){a.setState({update:!1})},100)},a.loadData=function(){var e=0,t={},n="/Visualize-World-Values./data/"+a.state.variable+a.state.wave+".csv";g.c(n).then(function(n){var o=Object.keys(n[0]).slice(1);a.setState({columns:o}),n.forEach(function(n){var o=n.Country;delete n.Country;var r={};Object.keys(n).map(function(e){r[e]=parseInt(n[e])}),t[o]=r,t[o][a.state.detail]>=e&&(e=t[o][a.state.detail])});var r=[],l=t;if(Object.keys(l).length>0){for(var i in l)break;Object.keys(l[i]).forEach(function(e){r.push({value:e,label:e})}),a.setState({detaillist:r})}a.setState({countryData:t,maxPercentage:e})})},a}return Object(p.a)(t,e),Object(c.a)(t,[{key:"componentDidMount",value:function(){this.loadData()}},{key:"render",value:function(){return this.state.update&&this.loadData(),o.a.createElement("div",{id:"supercontainer"},o.a.createElement("div",{id:"toprow"},o.a.createElement("h3",{className:"select name"},"YOU CAN NOW EXPLORE"),o.a.createElement("div",{className:"select",id:"areaContainer"},o.a.createElement(V.a,{defaultValue:j[0],onChange:this.handleAreaSelection,options:j})),o.a.createElement("h3",{className:"select name"},"DURING THE FOLLOWING"),o.a.createElement("div",{className:"select",id:"waveContainer"},o.a.createElement(V.a,{defaultValue:O[0],onChange:this.handleWaveSelection,options:O})),o.a.createElement("h3",{className:"select name"},"WITH MAP ATTRIBUTE"),o.a.createElement("div",{className:"select",id:"detailsContainer"},o.a.createElement(V.a,{defaultValue:this.state.detaillist[0],value:this.state.detailtest,onChange:this.handleDetailSelection,options:this.state.detaillist})),o.a.createElement("h3",{className:"select name"},"AND COMPARE THAT WITH"),o.a.createElement("div",{className:"select",id:"gapContainer"},o.a.createElement(V.a,{defaultValue:k[1],onChange:this.handleGapSelection,options:k})),o.a.createElement("h3",{className:"select name"},"IN THE GRAPH BELOW")),o.a.createElement(b,{countryDetail:this.state.detail,countryData:this.state.countryData,percentage:this.state.maxPercentage,onCountrySelect:this.handleDataSelection}),o.a.createElement(C,{selectedCountry:this.state.selectedCountry.Country,gapVar:this.state.gapVar,area:this.state.variable,detail:this.state.detail}),o.a.createElement(E,{selectedCountry:this.state.selectedCountry,wave:this.state.wave}),o.a.createElement("div",{id:"chartinfo"},o.a.createElement("h2",{className:"chartinfoTitle"},this.state.variable," (",this.state.detail,") vs. ",this.state.gapVar.replace(/_/g," ").replace(/\b\w/g,function(e){return e.toUpperCase()})),o.a.createElement("div",{id:"questionmark"},"?"),o.a.createElement("span",{className:"tooltiptextnew"},"Bubble size represent percentages of a selected world value (such as 30% very happy) while the y-axis represents gapminder data (such as 83.2 life expectancy)"),o.a.createElement("p",{className:"chartinfotext"},"Selected Country: ",this.state.selectedCountry.Country,", 1995-2014")))}}]),t}(n.Component);Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));l.a.render(o.a.createElement(w,null),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then(function(e){e.unregister()})}},[[39,2,1]]]);
//# sourceMappingURL=main.f4d84c50.chunk.js.map